<utils:WindowEXT x:Class="Paway.Test.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:Paway.Test"
        xmlns:utils="clr-namespace:Paway.WPF;assembly=Paway.WPF"
        xmlns:i="http://schemas.microsoft.com/expression/2010/interactivity" 
        DataContext="{Binding Main ,Source={StaticResource Locator}}"
        mc:Ignorable="d"
        Title="MainWindow" Height="850" Width="850" WindowStartupLocation="CenterScreen">

    <WrapPanel Margin="3">
        <StackPanel Width="320">
            <utils:ProgressBarEXT Grid.Row="1" Value="95" />

            <utils:ComboBoxEXT Grid.Row="2" Name="cbxBox" ItemsSource="{Binding GridList}" SelectedValuePath="Id" DisplayMemberPath="Text"
                               SelectedValue="{Binding Id}"/>
            <utils:ComboBoxMulti x:Name="MultiCmb" Grid.Row="3" ItemsSource="{Binding MultiList}"/>
            <utils:ComboBoxDate SelectedValue="{Binding DatePickerTime}"/>

            <utils:TextBoxEXT Grid.Row="4" Name="tb" Icon="pack://application:,,,/Paway.Test;component/Images/close.png">
                <Binding Path="Value">
                    <Binding.ValidationRules>
                        <utils:RegexValidationRule RegexType="UInt" MinLength="2" MaxLength="4"/>
                    </Binding.ValidationRules>
                </Binding>
            </utils:TextBoxEXT>
            <PasswordBox Grid.Row="5" utils:PasswordBoxEXT.Icon="pack://application:,,,/Paway.Test;component/Images/close.png"></PasswordBox>
            <Grid>
                <Grid.ColumnDefinitions >
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                <utils:ButtonEXT Name="chart" Content="取消"
                             BackgroundStart="Transparent;#77CA6B38" BackgroundEnd="Transparent;#77CA6B38" 
                             BackgroundImage="pack://application:,,,/Paway.Test;component/Images/close.png|pack://application:,,,/Paway.Test;component/Images/close_while.png"
                             Stretch="None" Viewport="0,0,0.5,1"
                             Command="{Binding Teach}" CommandParameter="{Binding ElementName=btn}"/>
                <utils:ButtonEXT Name="btn" Grid.Column="1" Grid.Row="6" 
                             Content="确认" Click="ButtonEXT_Click" 
                             Border="1;0"
                             BackgroundStart="Transparent;#7723AFFF" BackgroundEnd="Transparent;#7723AFFF" 
                             CommandParameter="{Binding ElementName=btn}"/>
            </Grid>
            <WrapPanel Grid.Row="7" >
                <utils:CheckBoxEXT x:Name="cbx" Content="Hello" IsChecked="True" Padding="0,0,3,0"/>
                <utils:CheckBoxEXT Content="World" IsChecked="{x:Null}"/>
                <utils:CheckBoxEXT Content="Watch" IsChecked="{x:Null}" IsEnabled="False"/>
                <CheckBox Content="Watch" IsChecked="True" />
            </WrapPanel>
            <WrapPanel Grid.Row="8" >
                <utils:RadioButtonEXT Name="rb" Content="Hello" IsChecked="True" />
                <utils:RadioButtonEXT Content="World" IsChecked="True" />
                <utils:RadioButtonEXT Content="Watch" IsChecked="{x:Null}" IsEnabled="False"/>
                <RadioButton Content="Watch" />
            </WrapPanel>
            <utils:SliderEXT x:Name="slider" Grid.Row="9" Grid.ColumnSpan="2"  Maximum="100" Value="15" >
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="ValueChanged">
                        <i:InvokeCommandAction Command="{Binding ValueChanged}"
                                           CommandParameter="{Binding ElementName=slider}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </utils:SliderEXT>
            <utils:DatePickerEXT Name="dp" Text="{Binding DatePickerTime, Mode=TwoWay}"/>

            <WrapPanel Grid.Row="10" >
                <Path Style="{StaticResource PathRound}" />
                <utils:TransitionControl Name="transition" >
                    <Path Style="{StaticResource PathRound}" Fill="Red" />
                </utils:TransitionControl>
                <Path Style="{StaticResource PathTriangle}" />
                <Path Style="{StaticResource PathTriangleDown}" Fill="Red" />
                <Path Style="{StaticResource PathQuestion}" />
                <Path Style="{StaticResource PathRight}" />
                <Path Style="{StaticResource PathClose}" />
                <utils:Progress Width="40" Height="40" />
            </WrapPanel>

            <TabControl Grid.Row="11"  TabStripPlacement="Top" Background="LightGray">
                <TabItem Cursor="Hand" Header="音乐电台" />
                <TabItem Cursor="Hand" Header="Mv电台"/>
            </TabControl>
            <utils:TreeViewEXT x:Name="TreeViewOrg" Grid.Row="12"  Height="180" CheckBox="Visible" ItemTemplate="{StaticResource UserNode}" ItemsSource="{Binding TreeList}"/>


        </StackPanel>
        <StackPanel>
            <utils:DataGridEXT Name="datagrid1" Grid.Column="1" Grid.RowSpan="9" 
                               ItemsSource="{Binding CollectionView}" Width="480"
                               SelectedItem="{Binding SelectedItem}"
                               Height="250" Grid.Row="1" VerticalAlignment="Top">
                <DataGrid.Columns>
                    <DataGridTextColumn  MinWidth="130" Binding="{Binding Money}" ElementStyle="{StaticResource TextRight}"/>
                    <DataGridTemplateColumn Header="Desc">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <TextBlock Text="{Binding Desc}" Foreground="Red" Style="{StaticResource TextLeft}"/>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                    <DataGridTemplateColumn Header="IsSelected">
                        <DataGridTemplateColumn.CellTemplate>
                            <DataTemplate>
                                <DockPanel>
                                    <utils:CheckBoxEXT IsChecked="{Binding IsSelected, UpdateSourceTrigger=PropertyChanged}"/>
                                </DockPanel>
                            </DataTemplate>
                        </DataGridTemplateColumn.CellTemplate>
                    </DataGridTemplateColumn>
                </DataGrid.Columns>
            </utils:DataGridEXT>
            <utils:DataPager Name="dataPager" Margin="0,0,0,3" Source="{Binding CollectionView}" IsTotalItemCountFixed="True"/>

            <utils:ListViewEXT Name="listView1" Grid.Column="1" Grid.Row="10" Grid.RowSpan="9" 
                           ItemHeight="68" ItemWidth="100" Width="480" Height="68"
                           ItemBorder=";0,0,0,4"
                           ItemBorderBrush="Transparent;#AA23AFFF;#DC23AFFF"
                           ItemBackground="Transparent;#ECF4FF;#E9EEFF" 
                           ItemTextForeground="#222;#222"
                           Background="#CCD5F0"
                           ItemImageHeight="32" ItemImageDock="Top" ItemPadding="5"
                           SelectionMode="Extended" VerticalAlignment="Top">
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="SelectionChanged">
                        <i:InvokeCommandAction Command="{Binding SelectionCommand}"
                                           CommandParameter="{Binding ElementName=listView1}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
                <utils:ListBoxItemEXT Text="Hello" IsSelected="True"
                                  Image="pack://application:,,,/Paway.Test;component/Images/close.png"/>
                <utils:ListBoxItemEXT Text="World"/>
                <Button Content="Hi" Visibility="Collapsed"/>
                <utils:ListBoxItemEXT Text="A"/>
                <utils:ListBoxItemEXT Text="C"/>
            </utils:ListViewEXT>
            <utils:ListViewEXT Name="listView2" Grid.Column="1" INormal="True"
                               Width="480" Height="84"
                               ItemsSource="{Binding GridList}"
                               ItemBorder="0" ItemPadding="10,5,10,5" ItemWidth="120" 
                               ItemImageWidth="0" 
                               SelectionMode="Multiple"
                               ItemDescForeground="Green"
                               HorizontalContentAlignment="Left" VerticalAlignment="Top" >
                <i:Interaction.Triggers>
                    <i:EventTrigger EventName="SelectionChanged">
                        <i:InvokeCommandAction Command="{Binding SelectionCommand}"
                                           CommandParameter="{Binding ElementName=listView2}"/>
                    </i:EventTrigger>
                </i:Interaction.Triggers>
            </utils:ListViewEXT>

        </StackPanel>
    </WrapPanel>
    <utils:WindowEXT.FunctionBar>
        <utils:WindowFunctionBar>
            <Menu>
                <MenuItem Header="发送反馈2" Icon="Q" IsCheckable="True"/>
                <MenuItem Header="发送反馈3" >
                    <MenuItem Header="报告问题"
                              IsCheckable="True"  Icon="Q"/>
                    <MenuItem Header="提供反馈"
                              IsCheckable="True" />
                    <Separator />
                    <MenuItem Header="设置..." />
                </MenuItem>
                <MenuItem Header="发送反馈" Icon="A">
                    <MenuItem Header="报告问题"
                              IsCheckable="True"  Icon="A"/>
                    <MenuItem Header="提供反馈"
                              IsCheckable="True" />
                    <Separator />
                    <MenuItem Header="设置..." />
                    <MenuItem Header="发送反馈C" Icon="A">
                        <MenuItem Header="报告问题"
                              IsCheckable="True"  Icon="B"/>
                        <MenuItem Header="提供反馈"
                              IsCheckable="True" />
                        <Separator />
                        <MenuItem Header="设置..." />
                    </MenuItem>
                </MenuItem>
            </Menu>
            <Separator />
            <Button Content="Dino.C" ToolTip="当前档案"/>
        </utils:WindowFunctionBar>
    </utils:WindowEXT.FunctionBar>
    <utils:WindowEXT.FunctionBarRight>
        <utils:WindowFunctionBar>
            <Button Content="Sign in" />
        </utils:WindowFunctionBar>
    </utils:WindowEXT.FunctionBarRight>
</utils:WindowEXT>
